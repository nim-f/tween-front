(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{188:function(e,t,n){},194:function(e,t,n){},195:function(e,t,n){},215:function(e,t,n){},221:function(e,t,n){},222:function(e,t,n){},229:function(e,t,n){},392:function(e,t,n){},395:function(e,t,n){},396:function(e,t,n){},397:function(e,t,n){},398:function(e,t,n){},399:function(e,t,n){},400:function(e,t,n){},401:function(e,t,n){},402:function(e,t,n){},454:function(e,t,n){},455:function(e,t,n){},456:function(e,t,n){},457:function(e,t,n){},458:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(33),o=n.n(c),l=n(27),i=n(38),u=n(11),s=(n(188),n(115),n(189),n(190),n(14)),m=n.n(s),d=n(18);n(194);function f(){return r.a.createElement("div",{className:"avatar"},r.a.createElement("div",{className:"avatar__circle"}))}n(195);var p=n(77),v=n.n(p),E=n(78),b=n.n(E),h=n(79),g=n.n(h),y=n(80),O=n.n(y),S=n(81),j=n.n(S),_=function(e){function t(){var e,n;v()(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=g()(this,(e=O()(t)).call.apply(e,[this].concat(r)))).setWrapperRef=function(e){n.wrapperRef=e},n.handleClickOutside=function(e){n.wrapperRef&&!n.wrapperRef.contains(e.target)&&n.props.callback()},n}return j()(t,e),b()(t,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.handleClickOutside)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleClickOutside)}},{key:"render",value:function(){return r.a.createElement("div",{ref:this.setWrapperRef},this.props.children)}}]),t}(a.Component),w=n(6),x=n.n(w),k=n(39),C=n.n(k),N=n(13),R=n.n(N),T=n(3),D=n(19),P=n(40),U=n.n(P),F="http://localhost:8000",A=n(169),I=n.n(A);function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(n,!0).forEach(function(t){R()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var L={fetch:function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=Q({},a,{method:e,headers:Q({},a.headers,{"Content-Type":"application/json"})});return n&&(r.body=JSON.stringify(n)),I()(t,r).then(function(e){return e.status>=400?e.json().then(function(t){throw{error:t.errors,status:e.status}}):e.json()})},get:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.fetch("GET",e,null,t)},post:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.fetch("POST",e,t,n)},patch:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.fetch("PATCH",e,t,n)}},W=n(49),z=n.n(W),q=x.a.mark(G),B=function(e,t){return{title:"Ошибка ".concat(e),message:t&&t.detail||"Что-то пошло не так. Попробуйте позже",position:"tr",autoDismiss:0}},J=function(e,t){switch(e){case 400:case 401:return t?{title:"Ошибка ".concat(e),message:t.detail,position:"tr",autoDismiss:0}:B(e,t);case 404:return{title:"Ошибка ".concat(e),message:"Не найдено",position:"tr",autoDismiss:0};default:return B(e,t)}};function G(e){var t,n;return x.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.type,n=e.payload,e.repeatAction,a.next=3,Object(T.c)({type:t,payload:n});case 3:return a.next=5,Object(T.c)(Object(W.error)(J(n.status,n.error)));case 5:case"end":return a.stop()}},q)}var V=n(50),Y=n.n(V),H=function(e,t){return{REQUEST:"".concat(e,"/").concat(t,"_REQUEST"),SUCCESS:"".concat(e,"/").concat(t,"_SUCCESS"),ERROR:"".concat(e,"/").concat(t,"_ERROR")}},Z=x.a.mark(ve),X=x.a.mark(Ee),K=x.a.mark(be),$=x.a.mark(he);function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(n,!0).forEach(function(t){R()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var ne="".concat("tvveen","/").concat("login"),ae="".concat(F,"/login/"),re="".concat(F,"/users/current/"),ce=H(ne,"LOGIN"),oe=H(ne,"LOGOUT"),le=H(ne,"GET_CURRENT_USER"),ie={token:U.a.load("access")||null,user:null,errors:null,loading:!1};function ue(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case le.REQUEST:case ce.REQUEST:return te({},e,{loading:!0});case le.SUCCESS:case ce.SUCCESS:return te({},e,{loading:!1,token:a.token,user:Y()(a,["token"])});case le.ERROR:case ce.ERROR:return te({},e,{loading:!1,error:a.error});default:return e;case oe.REQUEST:return te({},ie,{token:null})}}var se=function(e){return e.login.token},me=function(e){return e.login.errors},de=function(e){return e.login.user},fe=function(e,t){return L.post(ae,{email:e,password:t},{headers:{"Content-Type":"application/json"}})},pe=function(e){return L.get(re,{headers:{"Content-Type":"application/json",Authorization:"JWT ".concat(e)}})};function ve(e){var t,n;return x.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,a.prev=1,a.next=4,Object(T.b)(fe,t.email,t.password);case 4:return n=a.sent,console.log({login:n}),U.a.save("access",n.token,{path:"/"}),a.next=9,Object(T.c)({type:ce.SUCCESS,payload:n});case 9:return a.next=11,Object(T.c)(Object(D.d)("/"));case 11:a.next=17;break;case 13:return a.prev=13,a.t0=a.catch(1),a.next=17,G({type:ce.ERROR,payload:a.t0});case 17:case"end":return a.stop()}},Z,null,[[1,13]])}function Ee(e){var t,n;return x.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e.payload,a.prev=1,a.next=4,Object(T.d)(se);case 4:return t=a.sent,a.next=7,Object(T.b)(pe,t);case 7:return n=a.sent,console.log({currentUser:n}),a.next=11,Object(T.c)({type:le.SUCCESS,payload:n});case 11:a.next=20;break;case 13:if(a.prev=13,a.t0=a.catch(1),"invalid signature"!==a.t0.error.detail){a.next=18;break}return a.next=18,Object(T.c)({type:oe.REQUEST});case 18:return a.next=20,G({type:le.ERROR,payload:a.t0});case 20:case"end":return a.stop()}},X,null,[[1,13]])}function be(){return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U.a.remove("access",{path:"/"});case 3:return e.next=5,Object(T.c)(Object(D.d)("/login"));case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(error);case 10:case"end":return e.stop()}},K,null,[[0,7]])}function he(){return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(T.a)([Object(T.e)(ce.REQUEST,ve),Object(T.e)(oe.REQUEST,be),Object(T.e)(le.REQUEST,Ee)]);case 2:case"end":return e.stop()}},$)}var ge=n(110),ye=x.a.mark(He),Oe=x.a.mark(Ze),Se=x.a.mark(Xe),je=x.a.mark(Ke),_e=x.a.mark($e),we=x.a.mark(et);function xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xe(n,!0).forEach(function(t){R()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xe(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Ce=[new ge.b.Entity("events")],Ne="".concat("tvveen","/").concat("event"),Re="".concat(F,"/events"),Te=function(e){return"".concat(F,"/events/").concat(e)},De=H(Ne,"EVENTS_LIST"),Pe=H(Ne,"EDIT_EVENT"),Ue=H(Ne,"CREATE_EVENT"),Fe=H(Ne,"GET_EVENT"),Ae="".concat(Ne,"/SET_CURRENT_EVENT"),Ie=function(){return{type:De.REQUEST}},Me=function(e){return{type:Ae,payload:e}},Qe={events:{},result:[],currentId:U.a.load("current")||null,errors:null,loading:!1};function Le(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case Pe.REQUEST:case Ue.REQUEST:return ke({},e,{loading:!0,error:null});case Pe.SUCCESS:case Ue.SUCCESS:return ke({},e,{loading:!1,events:ke({},e.events,R()({},a.id,a)),result:[].concat(C()(e.result),[a.id])});case De.REQUEST:return ke({},e,{loading:!0,error:null});case De.SUCCESS:return ke({},e,{loading:!1,error:null,events:a.entities.events,result:a.result});case De.ERROR:case Pe.ERROR:case Ue.ERROR:return ke({},e,{loading:!1,error:a.error});case Ae:return ke({},e,{currentId:a});default:return e}}var We=function(e){return e.event.result},ze=function(e){return e.event.events},qe=function(e){return e.event.currentId?e.event.events[e.event.currentId]:null},Be=function(e,t){return e.event.events[t]},Je=function(e){return L.get(Re,{headers:{"Content-Type":"application/json",Authorization:"JWT ".concat(e)}})},Ge=function(e,t){return L.post(Re,e,{headers:{"Content-Type":"application/json",Authorization:"JWT ".concat(t)}})},Ve=function(e,t){return console.log({event:e}),L.post(Te(e.id),e,{headers:{"Content-Type":"application/json",Authorization:"JWT ".concat(t)}})},Ye=function(e,t){return L.get(Te(e),{headers:{"Content-Type":"application/json",Authorization:"JWT ".concat(t)}})};function He(e){var t,n;return x.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e.payload,a.prev=1,a.next=4,Object(T.d)(se);case 4:return t=a.sent,a.next=7,Object(T.b)(Je,t);case 7:return n=a.sent,a.next=10,Object(T.c)({type:De.SUCCESS,payload:Object(ge.a)(n,Ce)});case 10:a.next=16;break;case 12:return a.prev=12,a.t0=a.catch(1),a.next=16,G({type:De.ERROR,payload:a.t0});case 16:case"end":return a.stop()}},ye,null,[[1,12]])}function Ze(e){var t,n,a;return x.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,r.prev=1,r.next=4,Object(T.d)(se);case 4:return n=r.sent,r.next=7,Object(T.b)(Ge,t,n);case 7:return a=r.sent,r.next=10,Object(T.c)({type:Ue.SUCCESS,payload:a});case 10:return r.next=12,Object(T.c)(Object(D.d)("/event/".concat(a.id)));case 12:r.next=18;break;case 14:return r.prev=14,r.t0=r.catch(1),r.next=18,G({type:Ue.ERROR,payload:r.t0});case 18:case"end":return r.stop()}},Oe,null,[[1,14]])}function Xe(e){var t,n,a;return x.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,r.prev=1,r.next=4,Object(T.d)(se);case 4:return n=r.sent,r.next=7,Object(T.b)(Ve,t,n);case 7:return a=r.sent,r.next=10,Object(T.c)({type:Pe.SUCCESS,payload:a});case 10:r.next=16;break;case 12:return r.prev=12,r.t0=r.catch(1),r.next=16,G({type:Pe.ERROR,payload:r.t0});case 16:case"end":return r.stop()}},Se,null,[[1,12]])}function Ke(e){var t,n,a;return x.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,r.prev=1,r.next=4,Object(T.d)(se);case 4:return n=r.sent,r.next=7,Object(T.b)(Ye,t,n);case 7:return a=r.sent,r.next=10,Object(T.c)({type:Fe.SUCCESS,payload:a});case 10:r.next=16;break;case 12:return r.prev=12,r.t0=r.catch(1),r.next=16,G({type:Fe.ERROR,payload:r.t0});case 16:case"end":return r.stop()}},je,null,[[1,12]])}function $e(e){var t;return x.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:t=e.payload;try{U.a.save("current",t,{path:"/"})}catch(e){}case 2:case"end":return n.stop()}},_e)}function et(){return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(T.a)([Object(T.e)(De.REQUEST,He),Object(T.e)(Ue.REQUEST,Ze),Object(T.e)(Pe.REQUEST,Xe),Object(T.e)(Fe.REQUEST,Ke),Object(T.e)(Ae,$e)]);case 2:case"end":return e.stop()}},we)}var tt=Object(u.connect)(function(e){return{list:We(e),events:ze(e),current:qe(e)}},{eventsListAction:Ie,setCurrentEventAction:Me})(function(e){var t=e.events,n=e.list,c=e.current,o=e.setCurrentEventAction,l=e.eventsListAction;Object(a.useEffect)(function(){l()},[]);var i=Object(a.useState)(!1),u=m()(i,2),s=u[0],d=u[1];return r.a.createElement("div",{className:"event_selector"},r.a.createElement("label",null,"The event you are working with:"),r.a.createElement(_,{callback:function(){return d(!1)}},r.a.createElement("div",{className:"event_selector__wrapper"},r.a.createElement("div",{className:"event_selector__select",onClick:function(){return d(!s)}},r.a.createElement("div",{className:"event_selector__arrow"}),r.a.createElement("div",{className:"event_selector__date"},"July 15-19, 2019 "),r.a.createElement("div",{className:"event_selector__title"},c&&c.title.value)),r.a.createElement("div",{className:"event_selector__tools"},r.a.createElement("div",{className:"button button--small"},"Copy Link"),r.a.createElement("div",{className:"event_selector__time_left"},"11d 23h")),s?r.a.createElement("div",{className:"event_selector__list"},r.a.createElement("ul",null,n.map(function(e){return r.a.createElement("li",{onClick:function(){return o(e),void d(!1)}},t[e].title.value)}))):null)))});n(215);var nt=Object(u.connect)(function(e){return{token:se(e),user:de(e),list:We(e),events:ze(e),current:qe(e)}},{currentUserAction:function(){return{type:le.REQUEST}},eventsListAction:Ie,setCurrentEventAction:Me})(function(e){var t=e.token,n=e.currentUserAction,c=e.eventsListAction,o=e.setCurrentEventAction,l=e.events,i=e.list,u=e.user,s=e.current,p=Object(a.useState)(!1),v=m()(p,2),E=v[0],b=v[1];return Object(a.useEffect)(function(){t&&(n(),c())},[]),r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"header__line"},r.a.createElement(f,null,r.a.createElement("div",{className:"email"},u&&u.email)),r.a.createElement(tt,{list:i,events:l,current:s,setCurrent:o})),r.a.createElement("nav",{className:"header__line"},r.a.createElement("ul",{className:"header__row"},r.a.createElement("li",{className:"header__item",onMouseEnter:function(){return b(!0)},onMouseLeave:function(){return b(!1)}},r.a.createElement("button",{className:"link--create"},"Create"),E&&r.a.createElement("div",{className:"dropdown"},r.a.createElement("div",{className:"dropdown__item"},r.a.createElement(d.b,{to:"/event/create"},"Event")),r.a.createElement("div",{className:"dropdown__item"},r.a.createElement(d.b,{to:"/attendees/create"},"Attendees")))),s&&r.a.createElement("li",null,r.a.createElement(d.b,{to:"/event/".concat(s.id)},"Details")),r.a.createElement("li",null,r.a.createElement(d.b,{to:"/",exact:!0},"Workflow")),r.a.createElement("li",null,r.a.createElement(d.b,{to:"/chat"},"Chat")),r.a.createElement("li",null,r.a.createElement(d.b,{to:"/attendees"},"Attendees")),r.a.createElement("li",null,r.a.createElement(d.b,{to:"/agenda"},"Agenda")),r.a.createElement("li",null,r.a.createElement(d.b,{to:"/jira"},"Jira link")),r.a.createElement("li",null,r.a.createElement(d.b,{to:"/files"},"Work files")),r.a.createElement("li",null,r.a.createElement(d.b,{to:"/gallery"},"Gallery")),r.a.createElement("li",null,r.a.createElement("input",{placeholder:"Search"})))))});var at=Object(u.connect)(function(e){return{notifications:e.notifications}})(function(e){var t=e.notifications,n=window.screen.width>768?1*window.screen.width/3:window.screen.width,a={Wrapper:{display:"flex",flexDirection:"column",justifyContent:"center"},Containers:{DefaultStyle:{position:"fixed",width:n,padding:"10px 10px 10px 20px",zIndex:9998,WebkitBoxSizing:"",MozBoxSizing:"",boxSizing:"",height:"auto",display:"block",border:"0",fontSize:"14px",WebkitFontSmoothing:"antialiased",fontFamily:'"Roboto","Helvetica Neue",Arial,sans-serif',fontWeight:"400",color:"#FFFFFF"},tl:{top:"0px",bottom:"auto",left:"0px",right:"auto"},tr:{top:"0px",bottom:"auto",left:"auto",right:"0px"},tc:{top:"0px",bottom:"auto",margin:"0 auto",left:"50%",marginLeft:-n/2},bl:{top:"auto",bottom:"0px",left:"0px",right:"auto"},br:{top:"auto",bottom:"0px",left:"auto",right:"0px"},bc:{top:"auto",bottom:"0px",margin:"0 auto",left:"50%",marginLeft:-n/2}},NotificationItem:{DefaultStyle:{position:"relative",width:"100%",cursor:"pointer",borderRadius:"4px",fontSize:"14px",margin:"10px 0 0",padding:"10px",display:"flex",flexDirection:"column",justifyContent:"center",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box",boxSizing:"border-box",opacity:0,transition:"all 0.5s ease-in-out",WebkitTransform:"translate3d(0, 0, 0)",transform:"translate3d(0, 0, 0)",willChange:"transform, opacity",isHidden:{opacity:0},isVisible:{opacity:1}},success:{borderTop:0,backgroundColor:"#a1e82c",WebkitBoxShadow:0,MozBoxShadow:0,boxShadow:0},error:{borderTop:0,backgroundColor:"#fc727a",WebkitBoxShadow:0,MozBoxShadow:0,boxShadow:0},warning:{borderTop:0,backgroundColor:"#ffbc67",WebkitBoxShadow:0,MozBoxShadow:0,boxShadow:0},info:{borderTop:0,backgroundColor:"#63d8f1",WebkitBoxShadow:0,MozBoxShadow:0,boxShadow:0}},Title:{DefaultStyle:{fontSize:"16px",margin:0,padding:0,fontWeight:"bold",color:"#FFFFFF",display:"block",left:"15px"}},MessageWrapper:{DefaultStyle:{marginLeft:"0",marginRight:"30px",padding:"0 12px 0 0",color:"#FFFFFF",maxWidthwidth:"89%"}},Dismiss:{DefaultStyle:{fontFamily:"inherit",fontSize:"21px",color:"#000",float:"right",position:"absolute",right:"10px",top:"50%",marginTop:"-13px",backgroundColor:"#FFFFFF",display:"block",borderRadius:"50%",opacity:".4",lineHeight:"13px",width:"25px",height:"25px",outline:"0 !important",textAlign:"center",padding:"6px 3px 3px 3px",fontWeight:"300",marginLeft:"65px"},success:{},error:{},warning:{},info:{}},Action:{DefaultStyle:{background:"#ffffff",borderRadius:"2px",padding:"6px 20px",fontWeight:"bold",margin:"10px 0 0 0",border:0},success:{backgroundColor:"#a1e82c",color:"#ffffff"},error:{backgroundColor:"#fc727a",color:"#ffffff"},warning:{backgroundColor:"#ffbc67",color:"#ffffff"},info:{backgroundColor:"#63d8f1",color:"#ffffff"}},ActionWrapper:{DefaultStyle:{margin:0,padding:0}}};return r.a.createElement("div",{style:{zIndex:2e4,position:"relative"}},r.a.createElement(z.a,{notifications:t,style:a}))}),rt=(n(459),n(16),n(7)),ct=n.n(rt);n(221);var ot=function(e){var t=e.label,n=e.error,a=e.name,c=e.onChange,o=e.onFocus,l=e.onBlur,i=e.value,u=e.hidden,s=e.placeholder;return r.a.createElement("div",{className:"text_field"},t?r.a.createElement("label",{className:"form_label"},t):null,r.a.createElement("input",{placeholder:s,hidden:u,value:i||"",onChange:c||null,name:a||"",onFocus:o,onBlur:l}),n&&r.a.createElement("div",{className:"field-error"},n))};n(222);function lt(e){return r.a.createElement("div",{className:"text-area"},r.a.createElement("label",{className:"form_label"},e.label),r.a.createElement("textarea",{value:e.value,onChange:e.onChange}))}var it=n(58),ut=n.n(it),st=n(24);n(229);function mt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mt(n,!0).forEach(function(t){R()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mt(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ft(e){var t=Object(a.useState)(!1),n=m()(t,2),c=n[0],o=n[1],l=e.value&&e.value.start?st.DateTime.fromISO(e.value.start).toLocaleString():"",i=e.value&&e.value.end?st.DateTime.fromISO(e.value.end).toLocaleString():"";return r.a.createElement("div",{className:"date text_field form_field"},e.label?r.a.createElement("label",{className:"form_label"},e.label):null,r.a.createElement(_,{callback:function(){return o(!1)}},r.a.createElement("input",{value:"".concat(l," - ").concat(i),readOnly:!0,onFocus:function(){return o(!0)}}),e.error&&r.a.createElement("div",{className:"field-error"},e.error),c?r.a.createElement("div",{className:"date__popup"},r.a.createElement("div",{className:"date__calendar"},r.a.createElement("div",null,"start"),r.a.createElement(ut.a,{onDayClick:function(t){e.onChange(dt({},e.value,{start:t.toISOString()}))}})),r.a.createElement("div",{className:"date__calendar"},r.a.createElement("div",null,"end"),r.a.createElement(ut.a,{onDayClick:function(t){e.onChange(dt({},e.value,{end:t.toISOString()}))}}))):null))}var pt=n(171),vt=(n(392),function(e){function t(){var e,n;v()(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=g()(this,(e=O()(t)).call.apply(e,[this].concat(r)))).state={displayColorPicker:!1},n.handleClick=function(){n.setState({displayColorPicker:!n.state.displayColorPicker})},n.handleClose=function(){n.setState({displayColorPicker:!1})},n.handleChange=function(e){n.setState({color:e.hex}),n.props.onChange(e.hex)},n}return j()(t,e),b()(t,[{key:"render",value:function(){this.state.color;return r.a.createElement("div",{className:"color text_field form_field"},this.props.label?r.a.createElement("label",{className:"form_label"},this.props.label):null,r.a.createElement("div",{onClick:this.handleClick},r.a.createElement("div",{className:"color__swatch",style:{background:this.props.value}})),this.state.displayColorPicker?r.a.createElement(_,{callback:this.handleClose},r.a.createElement("div",{className:"color__popover"},r.a.createElement("div",{onClick:this.handleClose}),r.a.createElement(pt.SketchPicker,{color:this.props.value,onChange:this.handleChange}))):null)}}]),t}(r.a.Component)),Et=n(5);function bt(){for(var e="#",t=0;t<6;t++)e+="0123456789ABCDEF"[Math.floor(16*Math.random())];return e}var ht=n(172),gt=n.n(ht);n(394),n(395);function yt(e){var t=e.options,n=e.onChange,a=e.selected,c=e.defaultOption,o=e.label;return r.a.createElement("div",{className:"form_field"},o?r.a.createElement("label",{className:"form_label"},o):null,r.a.createElement(gt.a,{options:t,onChange:n,value:a||c,placeholder:"Select an option"}))}var Ot=n(173),St=n(174);n(396);function jt(e){var t=e.field,n=e.name,a=e.fieldCategories;return t.edit?r.a.createElement("div",{className:"custom__field form_field"},r.a.createElement(Et.a,{name:"".concat(n,".category"),render:function(e){var n=e.input;e.meta;return r.a.createElement(yt,ct()({label:"Field type",options:a,selected:t&&t.category},n))}}),r.a.createElement(Et.a,{name:"".concat(n,".name"),render:function(e){var t=e.input;e.meta;return r.a.createElement(ot,ct()({label:"Name"},t))}}),r.a.createElement("label",{className:"form_label"},r.a.createElement("span",null,"Is required:"),r.a.createElement(Et.a,{name:"".concat(n,".is_required"),type:"checkbox",component:"input"})),r.a.createElement("label",{className:"field__edit"},r.a.createElement("span",null,"Edit:"),r.a.createElement(Et.a,{name:"".concat(n,".edit"),type:"checkbox",component:"input"}))):r.a.createElement("div",{className:"custom__field"},r.a.createElement(Et.a,{name:"".concat(n,".value"),render:function(e){var n=e.input;e.meta;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ot,ct()({label:t.name},n)))}}),r.a.createElement("label",{className:"field__edit"},r.a.createElement("span",null,"Edit:"),r.a.createElement(Et.a,{name:"".concat(n,".edit"),type:"checkbox",component:"input"})))}n(397);function _t(e){var t=e.onChange,n=e.list,c=e.onSelect,o=e.managerId,l=e.placeholder,i=Object(a.useState)(!1),u=m()(i,2),s=u[0],d=u[1],f=Object(a.useState)(null),p=m()(f,2),v=p[0],E=p[1],b=o&&n.find(function(e){return e.id===o});return console.log({managerId:o}),r.a.createElement(_,{callback:function(){return d(!1)}},r.a.createElement("div",{className:"ac"},r.a.createElement(ot,{label:"event manager",placeholder:l,onChange:function(e){E(e.target.value),t(e.target.value)},value:s||v?v:b&&"".concat(b.first_name," ").concat(b.last_name),onFocus:function(){return d(!0)}}),s&&r.a.createElement("ul",{className:"ac__options"},n.length?r.a.createElement(r.a.Fragment,null,n.map(function(e){return r.a.createElement("div",{key:e.id,onClick:function(){c(e),E(null),d(!1)}},e.first_name," ",e.last_name)})):r.a.createElement("div",{className:"ac__not_found"},"Users not found"))))}var wt=function(e){return e.reduce(function(e,t,n){return e[t.id]=t,e},{})},xt=function(e){return Object.keys(e).map(function(t){return e[t]})},kt=x.a.mark(Lt),Ct=x.a.mark(Wt);function Nt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function Rt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nt(n,!0).forEach(function(t){R()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nt(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Tt="".concat("tvveen","/").concat("user"),Dt=H(Tt,"GET_USERS"),Pt=H(Tt,"SEARCH_USERS"),Ut={users:{},filteredUsers:{},errors:null,loading:!1};function Ft(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ut,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case Dt.REQUEST:return Rt({},e,{loading:!0});case Dt.SUCCESS:return Rt({},e,{loading:!1,users:wt(a)});case Pt.SUCCESS:return Rt({},e,{loading:!1,filteredUsers:wt(a)});case Dt.ERROR:return Rt({},e,{loading:!1});default:return Rt({},e)}}var At=function(e){return xt(e.user.filteredUsers)},It=function(e){return xt(e.user.users)},Mt=function(e){return e.user.users},Qt=function(e,t){return L.get(function(e){var t="".concat(F,"/users");return e&&(t+="?q=".concat(encodeURIComponent(e))),t}(t),{headers:{"Content-Type":"application/json"}})};function Lt(e){var t,n,a;return x.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,r.prev=1,r.next=4,Object(T.d)(se);case 4:return n=r.sent,r.next=7,Object(T.b)(Qt,n,t.q);case 7:if(a=r.sent,!t.q){r.next=13;break}return r.next=11,Object(T.c)({type:Pt.SUCCESS,payload:a});case 11:r.next=15;break;case 13:return r.next=15,Object(T.c)({type:Dt.SUCCESS,payload:a});case 15:r.next=21;break;case 17:return r.prev=17,r.t0=r.catch(1),r.next=21,G({type:Dt.ERROR,payload:r.t0});case 21:case"end":return r.stop()}},kt,null,[[1,17]])}function Wt(){return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(T.a)([Object(T.e)(Dt.REQUEST,Lt)]);case 2:case"end":return e.stop()}},Ct)}n(398);var zt=Object(u.connect)(function(e){return{filtered:At(e),users:It(e),usersMap:Mt(e)}},{getUsersAction:function(e){return{type:Dt.REQUEST,payload:{q:e}}}})(function(e){var t=e.members,n=e.users,c=e.filtered,o=e.usersMap,l=e.deleteMember,i=e.selectMember,u=e.selectManager,s=e.managerId,d=e.getUsersAction,f=Object(a.useState)(!1),p=m()(f,2),v=p[0],E=p[1];Object(a.useEffect)(function(){d()},[]);var b=function(e){d(e)};return r.a.createElement("div",{className:"event__members"},r.a.createElement(Et.a,{name:"managerId",render:function(e){var t=e.input;return e.meta,r.a.createElement(ot,ct()({hidden:!0},t))}}),r.a.createElement("div",{className:"form_field"},r.a.createElement(_t,{label:"event manager",placeholder:"Type to add user",onChange:b,list:c||n,managerId:s,onSelect:function(e){return u(e)}})),r.a.createElement("div",{className:"form_field"},r.a.createElement("label",{className:"form_label"},"event team:"),t&&t.map(function(e){return r.a.createElement("ul",{className:"members__list"},o[e]&&r.a.createElement("li",null,o[e].first_name," ",o[e].last_name," ",r.a.createElement("button",{onClick:function(){return l(e)}},"delete")))}),t&&t.length?null:r.a.createElement("div",{className:"members__not_found"},"No members in the team")),v?r.a.createElement("div",{className:"form_field"},r.a.createElement(_t,{label:"event manager",placeholder:"Type to find users",onChange:b,list:c||n,onSelect:function(e){return i(e)}})):r.a.createElement("button",{className:"button--link",onClick:function(){return E(!0)}},"Add"))});function qt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function Bt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qt(n,!0).forEach(function(t){R()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qt(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Jt=[{value:1,label:"Text input"},{value:2,label:"Textarea"},{value:3,label:"Select"},{value:4,label:"Checkbox"}];var Gt=Object(u.connect)(function(e){return{currentUser:de(e)}},{createEventAction:function(e){return{type:Ue.REQUEST,payload:e}},editEventAction:function(e){return{type:Pe.REQUEST,payload:e}}})(function(e){var t=e.currentUser,n=e.createEventAction,c=e.editEventAction,o=e.errors,l=e.initial,i=Object(a.useState)(!1),u=m()(i,2),s=(u[0],u[1],{});return l&&Object.keys(l).forEach(function(e){if("customFields"===e)return null;if("start"===e)return null;if("end"===e)return null;var t=l[e];s[e]=t.value||t}),l&&l.customFields?(s.customFields=l.customFields.map(function(e){return Bt({},e,{category:Jt.find(function(t){return t.value==e.category}),edit:!1})}),s.date={end:l.end.value,start:l.start.value}):s.customFields=[],console.log({initialValues:s}),r.a.createElement("div",null,r.a.createElement(Et.b,{onSubmit:function(e){var a=e.date,r=e.id,o=(e._id,e.__v,e.customFields),i=Y()(e,["date","id","_id","__v","customFields"]),u={id:r};Object.keys(i).forEach(function(e){u[e]={value:i[e],updated_by:t.email}}),u.start={value:a.start,updated_by:t.email},u.end={value:a.end,updated_by:t.email},u.customFields=o.map(function(e){return Bt({},e,{category:e.category.value})}),u.color||(u.color={value:bt(),updated_by:t.email}),u.updatedAt=Date.now(),l?c(u):(u.createdAt=Date.now(),n(u))},validate:function(e){var t={};return e.title||(t.title="Title is required"),e.date&&e.date.start&&e.date.end||(t.date="Event dates are required"),t},initialValues:s,mutators:Bt({setManagerId:function(e,t,n){var a=m()(e,1)[0];(0,n.changeValue)(t,"managerId",function(){return a})},deleteMembers:function(e,t,n){var a=m()(e,1)[0];(0,n.changeValue)(t,"teamIds",function(){return t.formState.values.teamIds.filter(function(e){return e!==a})})},setMembers:function(e,t,n){var a=m()(e,1)[0];(0,n.changeValue)(t,"teamIds",function(){var e=t.formState.values.teamIds;return e?[].concat(C()(e),[a]):[a]})}},St.a),render:function(e){var t=e.handleSubmit,n=e.values,a=e.form;return r.a.createElement("form",{onSubmit:t},console.log({values:n}),r.a.createElement("div",{className:"form form__2col"},r.a.createElement("div",null,r.a.createElement("div",{className:"form_field"},r.a.createElement(Et.a,{name:"date",render:function(e){var t=e.input,n=e.meta;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ft,ct()({label:"Event dates",error:n.touched&&n.error&&n.error||o&&o.date},t)))}})),r.a.createElement("div",{className:"form_field"},r.a.createElement(Et.a,{name:"color",render:function(e){var t=e.input,n=e.meta;return r.a.createElement(vt,ct()({label:"Color",error:n.touched&&n.error&&n.error||o&&o.color},t))}})),r.a.createElement("div",{className:"form_field"},r.a.createElement(Et.a,{name:"title",render:function(e){var t=e.input,n=e.meta;return r.a.createElement(ot,ct()({label:"Event title",error:n.touched&&n.error&&n.error||o&&o.title},t))}})),r.a.createElement("div",{className:"form_field"},r.a.createElement(Et.a,{name:"subtitle",render:function(e){var t=e.input;return e.meta,r.a.createElement(lt,ct()({label:"Event subtitle"},t))}})),r.a.createElement("div",{className:"form_field"},r.a.createElement(Et.a,{name:"venue",render:function(e){var t=e.input;return e.meta,r.a.createElement(ot,ct()({label:"Venue"},t))}})),r.a.createElement("div",{className:"form_field"},r.a.createElement(Et.a,{name:"lpLink",render:function(e){var t=e.input;return e.meta,r.a.createElement(ot,ct()({label:"link to lp"},t))}})),r.a.createElement("div",{className:"form_field"},r.a.createElement(Et.a,{name:"surveyLink",render:function(e){var t=e.input;return e.meta,r.a.createElement(ot,ct()({label:"link to survey"},t))}})),r.a.createElement("div",{className:"form_field"},r.a.createElement(Et.a,{name:"description",render:function(e){var t=e.input;return e.meta,r.a.createElement(lt,ct()({label:"Description"},t))}})),r.a.createElement("div",{className:"form_field"},r.a.createElement(Ot.a,{name:"customFields"},function(e){var t=e.fields;return r.a.createElement("div",null,t.map(function(e,t){var a=n.customFields[t];return r.a.createElement(jt,{field:a,name:e,fieldCategories:Jt,onEditToggle:function(){a.edit=!a.edit,console.log(a)}})}),r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:"button--link"},"save"),r.a.createElement("button",{className:"button--link",onClick:function(e){e.preventDefault(),console.log({values:n}),t.push({category:"",name:"",edit:!0,value:""})}},"add a field")))}))),r.a.createElement("div",null,r.a.createElement("div",{className:"form_field"},r.a.createElement("label",{className:"form_label"},"event local page:"),r.a.createElement("a",{href:""},"https://local.acronis.com/events/arw-in-hockenheim")),r.a.createElement(zt,{deleteMember:a.mutators.deleteMembers,selectMember:a.mutators.setMembers,selectManager:a.mutators.setManagerId,members:n.teamIds,managerId:n.managerId}),n.createdAt&&r.a.createElement("div",{className:"form_field"},r.a.createElement("label",{className:"form_label"},"created:"),r.a.createElement("div",null,st.DateTime.fromISO(n.createdAt).toLocaleString())),n.updatedAt&&r.a.createElement("div",{className:"form_field"},r.a.createElement("label",{className:"form_label"},"profile updated:"),r.a.createElement("div",null,st.DateTime.fromISO(n.updatedAt).toLocaleString())))))}}))});function Vt(e){return Object(u.connect)(function(e){return{token:se(e)}})(function(t){var n=t.token,a=Y()(t,["token"]);return n?r.a.createElement(e,a):r.a.createElement(l.a,{to:"/login"})})}var Yt=Vt(function(){return r.a.createElement(Gt,null)}),Ht=x.a.mark(un),Zt=x.a.mark(sn);function Xt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function Kt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xt(n,!0).forEach(function(t){R()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xt(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var $t="".concat("tvveen","/").concat("register"),en="".concat(F,"/users/add/"),tn="".concat($t,"/REGISTER_REQUEST"),nn="".concat($t,"/REGISTER_SUCCESS"),an="".concat($t,"/REGISTER_ERROR"),rn={user:null,error:null,loading:!1};function cn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rn,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case tn:return Kt({},e,{loading:!0,error:null});case nn:return Kt({},e,{loading:!1,error:null});case an:return Kt({},e,{loading:!1,error:a.error});default:return e}}var on=function(e){return e.register.error},ln=function(e){return L.post(en,e,{headers:{"Content-Type":"application/json"}})};function un(e){var t,n;return x.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,a.prev=1,a.next=4,Object(T.b)(ln,t.user);case 4:return n=a.sent,a.next=7,Object(T.c)({type:nn,payload:n.data});case 7:return a.next=9,Object(T.c)(Object(D.d)("/login"));case 9:a.next=15;break;case 11:return a.prev=11,a.t0=a.catch(1),a.next=15,G({type:an,payload:a.t0});case 15:case"end":return a.stop()}},Ht,null,[[1,11]])}function sn(){return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(T.a)([Object(T.e)(tn,un)]);case 2:case"end":return e.stop()}},Zt)}var mn=Object(u.connect)(function(e){return{error:on(e)}},{registerAction:function(e){return{type:tn,payload:{user:e}}}})(function(e){var t=e.registerAction,n=e.error;return r.a.createElement("div",{className:"register"},r.a.createElement(Et.b,{onSubmit:function(e){t(e)},validate:function(e){var t={};e.email||(t.email="Email is required"),e.password||(t.password="Password is required"),e.password2&&e.password2===e.password||(t.password="Password is not match")},render:function(e){var t=e.handleSubmit;return r.a.createElement("form",{onSubmit:t},r.a.createElement(Et.a,{name:"email",render:function(e){var t=e.input,a=e.meta;return r.a.createElement(ot,ct()({label:"Email",error:a.touched&&a.error&&a.error||n&&n.email},t))}}),r.a.createElement(Et.a,{name:"first_name",render:function(e){var t=e.input,a=e.meta;return r.a.createElement(ot,ct()({label:"First name",error:a.touched&&a.error&&a.error||n&&n.first_name},t))}}),r.a.createElement(Et.a,{name:"last_name",render:function(e){var t=e.input,a=e.meta;return r.a.createElement(ot,ct()({label:"Last name",error:a.touched&&a.error&&a.error||n&&n.last_name},t))}}),r.a.createElement(Et.a,{name:"password",render:function(e){var t=e.input,a=e.meta;return r.a.createElement(ot,ct()({label:"Password",error:a.touched&&a.error&&a.error||n&&n.password},t))}}),r.a.createElement(Et.a,{name:"password2",render:function(e){var t=e.input,n=e.meta;return r.a.createElement(ot,ct()({label:"Repeat password"},t,{error:n.touched&&n.error&&n.error}))}}),r.a.createElement("button",{className:"button button--link"},"register"))}}))});n(399),n(400);function dn(e){var t=e.events;return r.a.createElement("div",{className:"events_list__popup"},r.a.createElement("ul",null,t.map(function(e){return r.a.createElement("li",null,r.a.createElement(d.a,{to:"/event/".concat(e.id)},e.title.value))})))}n(401);function fn(e){var t=e.events,n=e.position,a=e.onHoverChange;return r.a.createElement("div",{className:"day__hover",style:{top:n.y,left:n.x},onMouseLeave:function(e){a(!1),console.log("leave")},onMouseEnter:function(e){a(!0),console.log("enter")}},t.map(function(e){if(!e)return null;var t=st.DateTime.fromISO(e.start.value),n=st.DateTime.local(),a=t.diff(n,["months","days","hours"]).toObject(),c=a.months,o=a.days,l=a.hours;return r.a.createElement("div",{className:"day__hover__event"},r.a.createElement("div",{className:"popup__title"},r.a.createElement(d.a,{to:"/event/".concat(e.id)},e.title.value)),r.a.createElement("div",{className:"popup__info"},"Ready: ",r.a.createElement("b",null,"69%"),r.a.createElement("br",null),n<t?r.a.createElement(r.a.Fragment,null,"Will start in:",c>0&&r.a.createElement("b",null,c,"month(s)"),o>0&&r.a.createElement("b",null,o,"d"),l>0&&r.a.createElement("b",null,parseInt(l),"h")):r.a.createElement(r.a.Fragment,null,"Finished in: ",c<0&&r.a.createElement("b",null,-1*c,"month(s)")," ",o<0&&r.a.createElement("b",null,-1*o,"d")," ",l<0&&r.a.createElement("b",null,-1*parseInt(l),"h"))))}))}n(402);function pn(e){var t=e.setFilter,n=e.selected,a=e.label,c=e.values,o=e.name,l=e.type,i="".concat(l,"--filter");return r.a.createElement("div",{className:"filter--".concat(o)},r.a.createElement("label",null,a,":"),c.map(function(e){return r.a.createElement("button",{className:"".concat(i," ").concat(n===e.id?"-active":""),onClick:function(){return t(e.id)}},e.name)}))}var vn={year:{numberOfMonths:12,initialMonth:new Date((new Date).getFullYear(),0,1)},q1:{numberOfMonths:3,month:new Date((new Date).getFullYear(),0,1)},q2:{numberOfMonths:3,month:new Date((new Date).getFullYear(),3,1)},q3:{numberOfMonths:3,month:new Date((new Date).getFullYear(),6,1)},q4:{numberOfMonths:3,month:new Date((new Date).getFullYear(),9,1)},current:{numberOfMonths:1,month:new Date((new Date).getFullYear(),(new Date).getMonth(),1)},prev:{numberOfMonths:1,month:new Date((new Date).getFullYear(),0===(new Date).getMonth()?11:(new Date).getMonth()-1,1)},next:{numberOfMonths:1,month:new Date((new Date).getFullYear(),11===(new Date).getMonth()?0:(new Date).getMonth()+1,1)}};var En=Vt(Object(u.connect)(function(e){return{events:ze(e),list:We(e)}},null)(function(e){var t=e.events,n=e.list,c=e.history,o=Object(a.useState)("overview"),l=m()(o,2),i=l[0],u=l[1],s=Object(a.useState)("year"),d=m()(s,2),f=d[0],p=d[1],v=Object(a.useState)([]),E=m()(v,2),b=E[0],h=E[1],g=Object(a.useState)([]),y=m()(g,2),O=y[0],S=y[1],j=Object(a.useState)(null),_=m()(j,2),w=_[0],x=_[1],k=Object(a.useState)({x:0,y:0}),C=m()(k,2),N=C[0],R=C[1],T=Object(a.useState)(!1),D=m()(T,2),P=D[0],U=D[1],F=Object(a.useState)(!1),A=m()(F,2),I=A[0],M=A[1];Object(a.useEffect)(function(){console.log({dayHover:I,popupHover:P}),I||P||S([])},[P]);var Q={start:n.map(function(e){return new Date(t[e].start.value)}),end:n.map(function(e){return new Date(t[e].end.value)})},L={};n.forEach(function(e){var n=t[e];L["".concat(n.id)]={};var a=new Date(n.start.value),r=new Date(n.end.value);a.setDate(a.getDate()-1),r.setDate(r.getDate()+1),Q["".concat(n.id)]={after:a,before:r}});var W=function(e,n,a){console.log("day enver",e),M(!0),R({x:a.clientX,y:a.clientY});var r=Object.keys(n).filter(function(e){return"end"!==e&&"start"!==e}).map(function(e){return t[e]});S(r)},z=function(e,t,n){console.log("day leave",e),M(!1),P&&S([])};return console.log({popupHover:P}),r.a.createElement("div",{className:"dashboard"},r.a.createElement("div",{className:"filters"},r.a.createElement(pn,{label:"Change view",name:"view",type:"button",selected:i,setFilter:u,values:[{id:"overview",name:"Overview"},{id:"tasks",name:"Tasks"}]}),r.a.createElement(pn,{label:"Quick filters",name:"time",type:"link",selected:f,setFilter:p,values:[{id:"year",name:"Year"},{id:"q1",name:"Q1"},{id:"q2",name:"Q2"},{id:"q3",name:"Q3"},{id:"q4",name:"Q4"},{id:"prev",name:"Previous month"},{id:"current",name:"Current month"},{id:"next",name:"Next month"}]})),w&&r.a.createElement("div",null,w,r.a.createElement(dn,{events:b})),r.a.createElement(ut.a,ct()({},vn[f],{modifiers:Q,modifiersStyles:L,onDayClick:function(e,n){console.log({modifiers:n});var a="".concat(e.toLocaleString());x(a);var r=Object.keys(n).filter(function(e){return"end"!==e&&"start"!==e&&"outside"!==e}).map(function(e){return t[e]});r.length>1?h(r):r[0]&&c.push("/event/".concat(r[0].id))},pagedNavigation:!0,renderDay:function(e,n){var a=t?Object.keys(n).filter(function(e){return"end"!==e&&"start"!==e&&"outside"!==e}).map(function(e){return t[e]}):[],c=e.getDate();return r.a.createElement("div",{className:"dashboard__day",onMouseEnter:function(t){return W(e,n,t)},onMouseLeave:function(t){return z(e,n,t)}},a.map(function(t){if(t){var n=st.DateTime.fromISO(t.start.value),a=st.DateTime.fromISO(t.end.value),c=st.DateTime.fromISO(e.toISOString()),o=n.hasSame(c,"day"),l=a.hasSame(c,"day");return t&&r.a.createElement("div",{className:"day__bg ".concat(o?"day__start":""," ").concat(l?"day__end":""),style:{backgroundColor:t.color.value,opacity:.7}})}return t}),r.a.createElement("div",{className:"day__date"},c))}})),r.a.createElement("h2",null,"Short status (year)"),r.a.createElement("p",null,"Overall tasks: 14"),r.a.createElement("p",null,"Current load:",r.a.createElement("br",null),"@Chris Watts – Todo: 4, In progress: 3, Done: 14"),O.length?r.a.createElement(fn,{events:O,position:N,onHoverChange:U}):null)}));var bn=Vt(Object(u.connect)(function(e,t){return{event:Be(e,t.match.params.id)}},{getSingleEvent:function(e){return{type:Fe.REQUEST,payload:e}},setCurrentEventAction:Me})(function(e){var t=e.event,n=e.match,c=e.getSingleEvent,o=e.setCurrentEventAction,l=n.params.id;return Object(a.useEffect)(function(){c(l),o(l)},[]),r.a.createElement("div",null,r.a.createElement(Gt,{initial:t}))})),hn=x.a.mark(Ln),gn=x.a.mark(Wn),yn=x.a.mark(zn),On=x.a.mark(qn),Sn=x.a.mark(Bn);function jn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function _n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jn(n,!0).forEach(function(t){R()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jn(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var wn="".concat("tvveen","/").concat("attendee"),xn=function(e){return"".concat(F,"/attendees?event=").concat(e)},kn="".concat(F,"/attendees/field"),Cn=H(wn,"ADD_ATTENDEE"),Nn=H(wn,"ADD_ATTENDEE_FIELD"),Rn=H(wn,"GET_LIST"),Tn=H(wn,"GET_FIELDS"),Dn={attendees:{},fields:[],errors:null,loading:!1};function Pn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dn,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case Rn.REQUEST:case Cn.REQUEST:return _n({},e,{loading:!0});case Rn.SUCCESS:return _n({},e,{loading:!1,attendees:a});case Cn.SUCCESS:return _n({},e,{loading:!1,attendees:_n({},e.attendees)});case Nn.REQUEST:return _n({},e,{loading:!0});case Nn.SUCCESS:return _n({},e,{loading:!1,fields:[].concat(C()(e.fields),[a])});case Tn.REQUEST:return _n({},e,{loading:!0});case Tn.SUCCESS:return _n({},e,{loading:!1,fields:a});case Cn.ERROR:case Rn.ERROR:case Nn.ERROR:case Tn.ERROR:return _n({},e,{loading:!1});default:return _n({},e)}}var Un=function(e){return xt(e.attendee.attendees)},Fn=function(e){return e.attendee.fields},An=function(e,t){return L.post(xn,t,{headers:{"Content-Type":"application/json",Authorization:"JWT ".concat(e)}})},In=function(e,t){return L.get(xn(t),{headers:{"Content-Type":"application/json",Authorization:"JWT ".concat(e)}})},Mn=function(e,t){return L.get(function(e){return"".concat(F,"/attendees/field?event=").concat(e)}(t),{headers:{"Content-Type":"application/json",Authorization:"JWT ".concat(e)}})},Qn=function(e,t,n){return L.post(kn,_n({event_id:t},n),{headers:{"Content-Type":"application/json",Authorization:"JWT ".concat(e)}})};function Ln(e){var t,n,a;return x.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,r.prev=1,r.next=4,Object(T.d)(se);case 4:return n=r.sent,r.next=7,Object(T.b)(An,n,t);case 7:return a=r.sent,r.next=10,Object(T.c)({type:Cn.SUCCESS,payload:a});case 10:r.next=14;break;case 12:r.prev=12,r.t0=r.catch(1);case 14:case"end":return r.stop()}},hn,null,[[1,12]])}function Wn(e){var t,n,a;return x.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,r.prev=1,r.next=4,Object(T.d)(se);case 4:return n=r.sent,r.next=7,Object(T.b)(Qn,n,t.eventId,t.field);case 7:return a=r.sent,r.next=10,Object(T.c)({type:Nn.SUCCESS,payload:a});case 10:t.resolve(),r.next=16;break;case 13:r.prev=13,r.t0=r.catch(1),t.reject();case 16:case"end":return r.stop()}},gn,null,[[1,13]])}function zn(e){var t,n,a;return x.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,r.prev=1,r.next=4,Object(T.d)(se);case 4:return n=r.sent,r.next=7,Object(T.b)(In,n,t);case 7:return a=r.sent,r.next=10,Object(T.c)({type:Rn.SUCCESS,payload:a});case 10:r.next=14;break;case 12:r.prev=12,r.t0=r.catch(1);case 14:case"end":return r.stop()}},yn,null,[[1,12]])}function qn(e){var t,n,a;return x.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,r.prev=1,r.next=4,Object(T.d)(se);case 4:return n=r.sent,r.next=7,Object(T.b)(Mn,n,t);case 7:return a=r.sent,r.next=10,Object(T.c)({type:Tn.SUCCESS,payload:a});case 10:r.next=14;break;case 12:r.prev=12,r.t0=r.catch(1);case 14:case"end":return r.stop()}},On,null,[[1,12]])}function Bn(){return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(T.a)([Object(T.e)(Cn.REQUEST,Ln),Object(T.e)(Nn.REQUEST,Wn),Object(T.e)(Rn.REQUEST,zn),Object(T.e)(Tn.REQUEST,qn)]);case 2:case"end":return e.stop()}},Sn)}function Jn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}var Gn=Object(u.connect)(function(e){return{currentEvent:e.event.currentId}},{addAttendeeAction:function(e){return{type:Cn.REQUEST,payload:e}}})(function(e){var t=e.currentEvent,n=e.error,a=e.addAttendeeAction;return r.a.createElement("div",null,r.a.createElement(Et.b,{onSubmit:function(e){a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jn(n,!0).forEach(function(t){R()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jn(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e,{event:t}))},validate:function(){},render:function(e){var t=e.handleSubmit;return e.values,e.form,r.a.createElement("form",{onSubmit:t},r.a.createElement("div",{className:"form_field"},r.a.createElement(Et.a,{name:"email",render:function(e){var t=e.input,a=e.meta;return r.a.createElement(ot,ct()({label:"Email",error:a.touched&&a.error&&a.error||n&&n.email},t))}})),r.a.createElement("div",{className:"form_field"},r.a.createElement(Et.a,{name:"first_name",render:function(e){var t=e.input,a=e.meta;return r.a.createElement(ot,ct()({label:"First name",error:a.touched&&a.error&&a.error||n&&n.first_name},t))}})),r.a.createElement("div",{className:"form_field"},r.a.createElement(Et.a,{name:"last_name",render:function(e){var t=e.input,a=e.meta;return r.a.createElement(ot,ct()({label:"Last name",error:a.touched&&a.error&&a.error||n&&n.last_name},t))}})),r.a.createElement("div",{className:"form_field"},r.a.createElement("label",{className:"form_label"},r.a.createElement("span",null,"Is invited:"),r.a.createElement(Et.a,{name:"invited",type:"checkbox",component:"input"}))),r.a.createElement("div",{className:"form_field"},r.a.createElement("label",{className:"form_label"},r.a.createElement("span",null,"Is registered:"),r.a.createElement(Et.a,{name:"registered",type:"checkbox",component:"input"}))),r.a.createElement("div",{className:"form_field"},r.a.createElement(Et.a,{name:"type",render:function(e){var t=e.input,a=e.meta;return r.a.createElement(ot,ct()({label:"Type",error:a.touched&&a.error&&a.error||n&&n.type},t))}})),r.a.createElement("div",{className:"form_field"},r.a.createElement(Et.a,{name:"title",render:function(e){var t=e.input,a=e.meta;return r.a.createElement(ot,ct()({label:"Title",error:a.touched&&a.error&&a.error||n&&n.title},t))}})),r.a.createElement("button",{className:"button--link"},"save"))}}))}),Vn=n(34),Yn=n(175),Hn=n.n(Yn),Zn=n(178),Xn=x.a.mark(Kn);function Kn(){return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(T.a)([he(),sn(),et(),Wt(),Bn()]);case 2:case"end":return e.stop()}},Xn)}var $n=n(21),ea=n(155),ta=Object(Zn.a)({onError:function(e){console.log("saga error"),console.error("saga error",e)}}),na=Object($n.a)();var aa=Object(u.connect)(function(e){return{token:se(e),errors:me(e)}},{loginAction:function(e,t){return{type:ce.REQUEST,payload:{email:e,password:t}}}})(function(e){var t=e.token,n=e.errors,a=e.loginAction;return t?r.a.createElement(l.a,{to:"/"}):r.a.createElement("div",{className:"login"},r.a.createElement("div",{className:"login__block"},r.a.createElement("h1",null,"Login"),r.a.createElement(Et.b,{onSubmit:function(e){var t=e.email,n=e.password;a(t,n)},validate:function(e){var t={};return e.email||(t.email="Email is required"),e.password||(t.email="Password is required"),t},render:function(e){var t=e.handleSubmit;return r.a.createElement("form",{onSubmit:t},r.a.createElement(Et.a,{name:"email",render:function(e){var t=e.input,a=e.meta;return r.a.createElement(ot,ct()({label:"login",error:a.touched&&a.error&&a.error||n&&n.email},t))}}),r.a.createElement(Et.a,{name:"password",render:function(e){var t=e.input,a=e.meta;return r.a.createElement(ot,ct()({label:"password",error:a.touched&&a.error&&a.error||n&&n.password},t))}}),r.a.createElement("button",null,"Login"))}})))});var ra=Object(u.connect)(null,{logOutAction:function(){return{type:oe.REQUEST}}})(function(e){var t=e.logOutAction;return r.a.createElement("div",{className:"col__left"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(d.b,{to:"/"},"Detailed status")),r.a.createElement("li",null,r.a.createElement(d.b,{to:"/"},"Reports")),r.a.createElement("li",null,r.a.createElement(d.b,{to:"/"},"Filters")),r.a.createElement("li",null,r.a.createElement(d.b,{to:"/"},"Activity log")),r.a.createElement("li",null,r.a.createElement("button",{onClick:function(e){e.preventDefault(),t()}},"Log out"))))}),ca=n(176),oa=n.n(ca),la=n(177),ia=n.n(la);function ua(){return r.a.createElement("div",null,r.a.createElement(ot,{placeholder:"Filter a person"}))}n(454),n(455);function sa(e){var t=e.children;return r.a.createElement("div",{className:"tip"},t)}n(456);function ma(e){var t=e.onClick;return r.a.createElement("button",{className:"popup__close",onClick:t},"x")}n(457);function da(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}var fa=Object(u.connect)(null,{addAttendeeFieldAction:function(e,t,n,a){return{type:Nn.REQUEST,payload:{eventId:e,field:t,resolve:n,reject:a}}}})(function(e){var t=e.error,n=e.eventId,a=e.column,c=e.addAttendeeFieldAction,o=e.onSuccess;return r.a.createElement("div",{className:"attendee__field"},r.a.createElement(Et.b,{onSubmit:function(e){return new Promise(function(t,r){var o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?da(n,!0).forEach(function(t){R()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):da(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e,{category:e.category.value,is_in_table:a||e.is_in_table});c(n,o,t,r)})},validate:function(){},render:function(e){var n=e.handleSubmit,c=e.values;return e.form,r.a.createElement("form",{onSubmit:function(e){return n(e).then(o)}},r.a.createElement("div",{className:"form_field"},r.a.createElement(Et.a,{name:"name",render:function(e){var n=e.input,a=e.meta;return r.a.createElement(ot,ct()({label:"ID",error:a.touched&&a.error&&a.error||t&&t.name},n))}})),r.a.createElement("div",{className:"form_field"},r.a.createElement(Et.a,{name:"value",render:function(e){var n=e.input,a=e.meta;return r.a.createElement(ot,ct()({label:"name",error:a.touched&&a.error&&a.error||t&&t.name},n))}})),r.a.createElement("div",{className:"form_field"},r.a.createElement(Et.a,{name:"category",render:function(e){var n=e.input,a=e.meta;return r.a.createElement(yt,ct()({options:[{value:1,label:"text input"},{value:2,label:"select"},{value:3,label:"checkbox"}],label:"category",error:a.touched&&a.error&&a.error||t&&t.category,selected:c.category},n))}})),r.a.createElement("div",{className:"form_field"},r.a.createElement("label",{className:"form_label"},r.a.createElement("span",null,"Is required:"),r.a.createElement(Et.a,{name:"is_required",type:"checkbox",component:"input"}))),!a&&r.a.createElement("div",{className:"form_field"},r.a.createElement("label",{className:"form_label"},r.a.createElement("span",null,"Is in table:"),r.a.createElement(Et.a,{name:"is_in_table",type:"checkbox",component:"input"}))),r.a.createElement("div",{className:"form_field"},r.a.createElement("label",{className:"form_label"},r.a.createElement("span",null,"Is disabled:"),r.a.createElement(Et.a,{name:"is_disabled",type:"checkbox",component:"input"}))),r.a.createElement("div",{className:"form_field"},r.a.createElement("button",{className:"button--link"},"save")))}}))});var pa,va,Ea,ba,ha=Object(u.connect)(function(e){return{attendees:Un(e),fields:Fn(e),currentEvent:e.event.currentId}},{getListAction:function(e){return{type:Rn.REQUEST,payload:e}},getFieldsAction:function(e){return{type:Tn.REQUEST,payload:e}}})(function(e){var t=e.attendees,n=e.currentEvent,c=e.getListAction,o=e.getFieldsAction,l=e.fields;Object(a.useEffect)(function(){c(n),o(n)},[]),Object(a.useEffect)(function(){c(n),o(n)},[n]);var i=l.filter(function(e){return e.is_in_table}).map(function(e){return{dataField:e.name,text:e.value}}),u=[{dataField:"id",text:"#"},{dataField:"invited",text:"Invited"},{dataField:"registered",text:"Registered"},{dataField:"type",text:"Type"},{dataField:"first_name",text:"First Name"},{dataField:"last_name",text:"Last Name"},{dataField:"title",text:"Title"},{dataField:"company",text:"Company"}].concat(C()(i)),s=Object(a.useState)("all"),d=m()(s,2),f=d[0],p=d[1],v=Object(a.useState)(!1),E=m()(v,2),b=E[0],h=E[1];return r.a.createElement("div",null,r.a.createElement("div",{className:"attendees__head box"},r.a.createElement("div",{className:"attendees__filter"},r.a.createElement(pn,{label:"Quick filters",name:"attendee",type:"link",selected:f,setFilter:p,values:[{id:"all",name:"All"},{id:"invited",name:"Invited"},{id:"registered",name:"Registered"},{id:"media",name:"Media"},{id:"acronis",name:"Acronis"},{id:"guests",name:"Guests"}]}),r.a.createElement(ua,null)),r.a.createElement("div",{className:"import"},r.a.createElement("button",null,"Import/Export"))),r.a.createElement("div",{className:"box"},r.a.createElement(sa,null,"Tip!  You can sort the table with two parameters at the same time. Example: Type (A-Z) + Name (A-Z), just click on the Type, then press CTRL and click on the Name.")),r.a.createElement("div",{className:"table_block"},r.a.createElement(oa.a,{bordered:!1,keyField:"id",data:t,columns:u}),r.a.createElement("div",{className:"add_column"},r.a.createElement("button",{onClick:function(){return h(!0)}},"Add column"))),r.a.createElement(ia.a,{isOpen:b,style:{overlay:{display:"flex",alignItems:"center",justifyContent:"center"},content:{position:"relative",top:"auto",left:"auto",right:"auto",bottom:"auto",padding:40}}},r.a.createElement(ma,{onClick:function(){return h(!1)}}),r.a.createElement("h2",null,"Add field for attendee"),r.a.createElement(fa,{eventId:n,onSuccess:function(){return h(!1)},column:!0})))}),ga=(Ea=Object(Vn.a)(ta,Object(ea.a)(na),Hn.a),ba=Object(Vn.e)((pa=na,Object(Vn.c)((va={router:Object(i.b)(pa)},R()(va,"login",ue),R()(va,"register",cn),R()(va,"event",Le),R()(va,"user",Ft),R()(va,"attendee",Pn),R()(va,"notifications",W.reducer),va))),Ea),ta.run(Kn),{store:ba,history:na}),ya=ga.store,Oa=ga.history,Sa=document.getElementById("App");o.a.render(r.a.createElement(function(){return r.a.createElement(u.Provider,{store:ya},r.a.createElement(i.a,{history:Oa},r.a.createElement("div",null,r.a.createElement(l.d,null,r.a.createElement(l.b,{path:"/login",render:function(){return null}}),r.a.createElement(l.b,{path:"/",render:function(){return r.a.createElement(nt,null)}})),r.a.createElement("div",{className:"main"},r.a.createElement(l.d,null,r.a.createElement(l.b,{path:"/login",render:function(){return null}}),r.a.createElement(l.b,{path:"/",render:function(){return r.a.createElement(ra,null)}})),r.a.createElement("div",{className:"col__right"},r.a.createElement(l.d,null,r.a.createElement(l.b,{path:"/login",component:aa}),r.a.createElement(l.b,{path:"/register",component:mn}),r.a.createElement(l.b,{path:"/event/create",component:Yt,exact:!0}),r.a.createElement(l.b,{path:"/attendees/create",component:Gn,exact:!0}),r.a.createElement(l.b,{path:"/attendees",component:ha,exact:!0}),r.a.createElement(l.b,{path:"/event/:id",component:bn,exact:!0}),r.a.createElement(l.b,{path:"/",component:En,exact:!0})))),r.a.createElement(at,null))))},null),Sa)}},[[458,2,0,3]]]);